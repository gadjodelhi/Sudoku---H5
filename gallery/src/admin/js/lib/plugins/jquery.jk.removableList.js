/** * options: onconfirm, onremove */$.fn.removableList = function (options) {	function initRemovableList() {		$(this).addClass('jk-removablelist-list').on('click', '.jk-removablelist-remove-icon', function () {			removeHandler.apply(this.parentNode, arguments);		}).trigger('jk.changed');	}		function changedHandler() {		$('.jk-removablelist-remove-icon', this).remove();		$(this).children().addClass('jk-removablelist-item').append('<span class="jk-removablelist-remove-icon" />');	}		function removeHandler() {		// this = li		// event = click		//				var $li = $(this);				$li.addClass('jk-removablelist-removing');		if (options.onconfirm && options.onconfirm.constructor === Function) {			if (!options.onconfirm.call(this)) {				$(this).removeClass('jk-removablelist-removing');				return;			}		}				options.onclick.call(this, function () {			$li.fadeOut(300, function () {				this.parentNode.removeChild(this);			});		});	}		this.filter('ul, ol').on('jk.changed', changedHandler).each(initRemovableList);	return this;};